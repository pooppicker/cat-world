(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-06509bb0"],{"58c2":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"categoies"},[a("div",{staticClass:"categories-container"},[a("form",{staticClass:"select-form"},[a("label",{attrs:{for:"category"}}),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selected_category,expression:"selected_category"}],attrs:{name:"category",id:"category"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selected_category=t.target.multiple?a:a[0]}}},e._l(e.categories,(function(t){return a("option",{key:t.id,attrs:{selected:""},domProps:{value:t}},[e._v(" "+e._s(t.name)+" ")])})),0)]),e.isProcessing?a("Spinner"):a("div",{staticClass:"cate-photos"},e._l(e.images,(function(t){return a("div",{key:t.id,staticClass:"cate-container"},[a("div",{staticClass:"cate-card"},[a("img",{attrs:{src:t.url,alt:""}}),a("button",{staticClass:"add-fav",on:{click:function(a){return a.stopPropagation(),a.preventDefault(),e.addFavorite(t.id)}}},[e._v(" Favorite ")])])])})),0),a("button",{staticClass:"nxt-btn",on:{click:e.nextBtn}},[e._v("Next")])],1)])},n=[],c=a("1da1"),i=(a("4de4"),a("d3b7"),a("96cf"),a("2fa3")),o={getCategory:function(){return i["b"].get("/categories")}},s=a("bc3a"),u=a.n(s),l=a("2375"),g={components:{Spinner:l["a"]},data:function(){return{categories:[],selected_category:{},images:[],page:1,limit:15,include_categories:!0,isProcessing:!1}},created:function(){u.a.defaults.headers.common["x-api-key"]="5905330e-b817-403e-ae23-ff5a4809c66d",this.fetchCategory()},methods:{fetchCategory:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.getCategory();case 3:a=t.sent,e.categories=a.data,e.selected_category=e.categories[2],t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0),i["a"].fire({icon:"error",title:"cannot load category"});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()},fetchImages:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.isProcessing=!0,a={limit:e.limit,page:e.page-1,include_categories:e.include_categories,category_ids:e.selected_category.id},t.next=5,u.a.get("https://api.thecatapi.com/v1/images/search",{params:a});case 5:r=t.sent,e.images=r.data,e.isProcessing=!1,window.scrollTo({top:0}),console.log(r),t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](0),console.log(t.t0),i["a"].fire({icon:"error",title:"cannot load images"});case 16:case"end":return t.stop()}}),t,null,[[0,12]])})))()},addFavorite:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,r={image_id:e,sub_id:"your-user-1234"},a.next=4,u.a.post("https://api.thecatapi.com/v1/favourites",r);case 4:n=a.sent,t.images=t.images.filter((function(t){return t.id!==e})),i["a"].fire({icon:"success",title:"Image added to My Favorite!"}),console.log(n.data),a.next=14;break;case 10:a.prev=10,a.t0=a["catch"](0),console.log(a.t0),i["a"].fire({icon:"error",title:"Cannot add image to My Favorite"});case 14:case"end":return a.stop()}}),a,null,[[0,10]])})))()},nextBtn:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.page++,t.next=3,e.fetchImages();case 3:case"end":return t.stop()}}),t)})))()}},watch:{page:function(){this.fetchImages},selected_category:function(){console.log(this.selected_category),this.fetchImages()}}},d=g,p=(a("5d9b"),a("2877")),f=Object(p["a"])(d,r,n,!1,null,null,null);t["default"]=f.exports},"5d9b":function(e,t,a){"use strict";a("a5d9")},a5d9:function(e,t,a){}}]);
//# sourceMappingURL=chunk-06509bb0.9af67045.js.map